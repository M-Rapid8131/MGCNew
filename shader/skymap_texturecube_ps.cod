//
// Generated by Microsoft (R) HLSL Shader Compiler 10.1
//
//
// Buffer Definitions: 
//
// cbuffer SKY_COLOR_CONSTANT_BUFFER
// {
//
//   float3 sky_color_base;             // Offset:    0 Size:    12
//   float3 sky_color_dest;             // Offset:   16 Size:    12 [unused]
//   float2 cbsky_color_fpad;           // Offset:   32 Size:     8 [unused]
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim      HLSL Bind  Count
// ------------------------------ ---------- ------- ----------- -------------- ------
// sampler_states[1]                 sampler      NA          NA             s1      1 
// skybox                            texture  float4          2d            t32      1 
// SKY_COLOR_CONSTANT_BUFFER         cbuffer      NA          NA           cb11      1 
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_POSITION              0   xyzw        0      POS   float       
// TEXCOORD                 0   xy          1     NONE   float       
// BEARING                  0   xyz         2     NONE   float   xyz 
// SV_RENDERTARGETARRAYINDEX     0   x           3  RTINDEX    uint       
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_TARGET                0   xyzw        0   TARGET   float   xyzw
//
ps_5_0
dcl_globalFlags refactoringAllowed | skipOptimization
dcl_constantbuffer CB11[1], immediateIndexed
dcl_sampler s1, mode_default
dcl_resource_texture2d (float,float,float,float) t32
dcl_input_ps linear v2.xyz
dcl_output o0.xyzw
dcl_temps 4
//
// Initial variable locations:
//   v0.x <- pin.position.x; v0.y <- pin.position.y; v0.z <- pin.position.z; v0.w <- pin.position.w; 
//   v1.x <- pin.texcoord.x; v1.y <- pin.texcoord.y; 
//   v2.x <- pin.bearing.x; v2.y <- pin.bearing.y; v2.z <- pin.bearing.z; 
//   v3.x <- pin.sv_render_target_array_index; 
//   o0.x <- <ShaderMain return value>.x; o0.y <- <ShaderMain return value>.y; o0.z <- <ShaderMain return value>.z; o0.w <- <ShaderMain return value>.w
//
#line 21 "C:\General\GR4GA_NISHIOKA\MAGIC COLOR STONE\MGCNew\LightBlueEngine\HLSL\common.hlsli"
mov r0.x, l(3.141592)  // r0.x <- PI

#line 7 "C:\General\GR4GA_NISHIOKA\MAGIC COLOR STONE\MGCNew\LightBlueEngine\HLSL\Skymap\skymap_texturecube_ps.hlsl"
dp3 r0.y, v2.xyzx, v2.xyzx
rsq r0.y, r0.y
mul r0.yzw, r0.yyyy, v2.xxyz  // r0.y <- v.x; r0.z <- v.y; r0.w <- v.z

#line 8
itof r1.x, l(0)  // r1.x <- ROUGHNESS

#line 9
nop 
mov r0.yzw, r0.yyzw
mov r1.x, r1.x
mov r1.y, l(0.010000)

#line 47 "C:\General\GR4GA_NISHIOKA\MAGIC COLOR STONE\MGCNew\LightBlueEngine\HLSL\Skymap\skymap_header.hlsli"
resinfo_indexable(texture2d)(float,float,float,float)_uint r1.z, l(0), t32.xywz
mov r1.z, r1.z  // r1.z <- number_of_levels

#line 49
mov r1.w, l(1)
ineg r1.w, r1.w
iadd r1.z, r1.w, r1.z
utof r1.z, r1.z
mul r1.x, r1.z, r1.x  // r1.x <- lod

#line 50
dp3 r1.z, r0.yzwy, r0.yzwy
rsq r1.z, r1.z
mul r0.yzw, r0.yyzw, r1.zzzz

#line 53
mov r1.z, -r0.w
max r1.z, r0.w, r1.z
mov r1.w, -r0.y
max r2.x, r0.y, r1.w
min r2.y, r1.z, r2.x
max r2.z, r1.z, r2.x
div r2.z, l(1.000000, 1.000000, 1.000000, 1.000000), r2.z
mul r2.y, r2.z, r2.y
mul r2.z, r2.y, r2.y
mul r2.w, r2.z, l(0.020835)
add r2.w, r2.w, l(-0.085133)
mul r2.w, r2.w, r2.z
add r2.w, r2.w, l(0.180141)
mul r2.w, r2.w, r2.z
add r2.w, r2.w, l(-0.330299)
mul r2.z, r2.w, r2.z
add r2.z, r2.z, l(0.999866)
mul r2.y, r2.z, r2.y
lt r1.z, r2.x, r1.z
mul r2.x, r2.y, l(-2.000000)
add r2.x, r2.x, l(1.570796)
and r1.z, r1.z, r2.x
add r1.z, r2.y, r1.z
lt r1.w, r0.y, r1.w
and r1.w, r1.w, l(0xc0490fdb)
add r1.z, r1.w, r1.z
min r1.w, r0.y, r0.w
max r0.y, r0.y, r0.w
mov r0.w, -r1.w
lt r0.w, r1.w, r0.w
mov r1.w, -r0.y
ge r0.y, r0.y, r1.w
and r0.y, r0.y, r0.w
mov r0.w, -r1.z
movc r0.y, r0.y, r0.w, r1.z
add r0.y, r0.x, r0.y
div r0.y, r0.y, l(6.283184)  // r0.y <- sample_point.x

#line 54
mov r0.w, -r0.z
max r1.z, r0.w, r0.z
mov r1.w, -r1.z
add r1.w, r1.w, l(1.000000)
sqrt r1.w, r1.w
mul r2.x, r1.z, l(-0.018729)
add r2.x, r2.x, l(0.074261)
mul r2.x, r1.z, r2.x
add r2.x, r2.x, l(-0.212114)
mul r1.z, r1.z, r2.x
add r1.z, r1.z, l(1.570729)
mul r1.z, r1.w, r1.z
mul r1.w, r1.z, l(-2.000000)
add r1.w, r1.w, l(3.141593)
lt r0.z, r0.z, r0.w
and r0.z, r0.z, r1.w
add r0.z, r0.z, r1.z
mov r0.z, -r0.z
add r0.z, r0.z, l(1.570796)
add r0.z, r0.z, l(1.570796)
div r0.x, r0.z, r0.x
mov r0.x, -r0.x
add r2.y, r0.x, l(1.000000)  // r2.y <- sample_point.y

#line 56
add r2.x, r1.y, r0.y  // r2.x <- sample_point.x

#line 58
nop 
mov r0.xyz, cb11[0].zxyz

#line 42 "C:\General\GR4GA_NISHIOKA\MAGIC COLOR STONE\MGCNew\LightBlueEngine\HLSL\filter_functions.hlsli"
itof r1.yzw, l(0, 0, 0, 0)  // r1.y <- rgb.x; r1.z <- rgb.y; r1.w <- rgb.z

#line 43
itof r0.w, l(0)
eq r0.w, r0.w, r0.z
if_nz r0.w

#line 45
  mov r1.w, r0.x
  mov r1.z, r1.w
  mov r1.y, r1.z

#line 46
else 

#line 49
  mov r0.x, r0.x  // r0.x <- Vmax

#line 52
  itof r0.w, l(360)
  mul r2.z, r0.w, r0.y
  mov r2.w, -r2.z
  ge r2.z, r2.z, r2.w
  mov r2.w, -r0.w
  movc r0.w, r2.z, r0.w, r2.w
  div r2.z, l(1.000000, 1.000000, 1.000000, 1.000000), r0.w
  mul r0.y, r0.y, r2.z
  frc r0.y, r0.y
  mul r0.y, r0.y, r0.w  // r0.y <- hsv.x

#line 53
  itof r0.w, l(60)
  div r0.w, r0.y, r0.w
  ftoi r0.w, r0.w
  itof r0.w, r0.w  // r0.w <- Huei

#line 54
  itof r2.z, l(60)
  div r0.y, r0.y, r2.z
  mov r2.z, -r0.w
  add r0.y, r0.y, r2.z  // r0.y <- Huef

#line 55
  mov r2.z, -r0.z
  add r2.z, r2.z, l(1.000000)
  mul r2.z, r0.x, r2.z  // r2.z <- p

#line 56
  mul r2.w, r0.y, r0.z
  mov r2.w, -r2.w
  add r2.w, r2.w, l(1.000000)
  mul r2.w, r0.x, r2.w  // r2.w <- q

#line 57
  itof r3.x, l(1)
  mov r0.y, -r0.y
  add r0.y, r0.y, r3.x
  mul r0.y, r0.y, r0.z
  mov r0.y, -r0.y
  add r0.y, r0.y, l(1.000000)
  mul r0.y, r0.y, r0.x  // r0.y <- t

#line 59
  itof r0.z, l(0)
  eq r0.z, r0.z, r0.w
  if_nz r0.z

#line 61
    mov r1.y, r0.x

#line 62
    mov r1.z, r0.y

#line 63
    mov r1.w, r2.z

#line 64
  else 

#line 65
    itof r0.z, l(1)
    eq r0.z, r0.z, r0.w
    if_nz r0.z

#line 67
      mov r1.y, r2.w

#line 68
      mov r1.z, r0.x

#line 69
      mov r1.w, r2.z

#line 70
    else 

#line 71
      itof r0.z, l(2)
      eq r0.z, r0.z, r0.w
      if_nz r0.z

#line 73
        mov r1.y, r2.z

#line 74
        mov r1.z, r0.x

#line 75
        mov r1.w, r0.y

#line 76
      else 

#line 77
        itof r0.z, l(3)
        eq r0.z, r0.z, r0.w
        if_nz r0.z

#line 79
          mov r1.y, r2.z

#line 80
          mov r1.z, r2.w

#line 81
          mov r1.w, r0.x

#line 82
        else 

#line 83
          itof r0.z, l(4)
          eq r0.z, r0.z, r0.w
          if_nz r0.z

#line 85
            mov r1.y, r0.y

#line 86
            mov r1.z, r2.z

#line 87
            mov r1.w, r0.x

#line 88
          else 

#line 89
            itof r0.y, l(5)
            eq r0.y, r0.y, r0.w
            if_nz r0.y

#line 91
              mov r1.y, r0.x

#line 92
              mov r1.z, r2.z

#line 93
              mov r1.w, r2.w

#line 94
            endif 
          endif 
        endif 
      endif 
    endif 
  endif 

#line 95
endif 

#line 96
mov r1.yzw, r1.yyzw  // r1.y <- <HSV2RGB return value>.x; r1.z <- <HSV2RGB return value>.y; r1.w <- <HSV2RGB return value>.z

#line 58 "C:\General\GR4GA_NISHIOKA\MAGIC COLOR STONE\MGCNew\LightBlueEngine\HLSL\Skymap\skymap_header.hlsli"
mov r1.yzw, r1.yyzw  // r1.y <- back_color.x; r1.z <- back_color.y; r1.w <- back_color.z

#line 60
sample_l_indexable(texture2d)(float,float,float,float) r0.xyz, r2.xyxx, t32.xyzw, s1, r1.x
mul r0.xyz, r1.yzwy, r0.xyzx  // r0.x <- color.x; r0.y <- color.y; r0.z <- color.z

#line 61
mov r0.xyz, r0.xyzx  // r0.x <- <SampleSkybox return value>.x; r0.y <- <SampleSkybox return value>.y; r0.z <- <SampleSkybox return value>.z
mov r0.w, l(1.000000)  // r0.w <- <SampleSkybox return value>.w

#line 9 "C:\General\GR4GA_NISHIOKA\MAGIC COLOR STONE\MGCNew\LightBlueEngine\HLSL\Skymap\skymap_texturecube_ps.hlsl"
mov o0.xyzw, r0.xyzw
ret 
// Approximately 179 instruction slots used
